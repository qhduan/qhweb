"use strict";var Markdown;if(typeof exports==="object"&&typeof require==="function")Markdown=exports;else Markdown={};(function(){function e(e){return e}function t(e){return false}function n(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);if(r===e)this[t]=n;else this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=r.apply(null,t);return n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}};Markdown.HookCollection=n;function r(){}r.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}};Markdown.Converter=function(t){var a=this.hooks=new n;a.addNoop("plainLinkText");a.addNoop("preConversion");a.addNoop("postNormalization");a.addNoop("preBlockGamut");a.addNoop("postBlockGamut");a.addNoop("preSpanGamut");a.addNoop("postSpanGamut");a.addNoop("postConversion");var i;var u;var o;var s;t=t||{};var c=e,l=e;if(t.nonAsciiLetters){(function(){var e=/[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g;var t="Q".charCodeAt(0);var n="A".charCodeAt(0);var r="Z".charCodeAt(0);var a="a".charCodeAt(0)-r-1;c=function(i){return i.replace(e,function(e){var i=e.charCodeAt(0);var u="";var o;while(i>0){o=i%51+n;if(o>=t)o++;if(o>r)o+=a;u=String.fromCharCode(o)+u;i=i/51|0}return"Q"+u+"Q"})};l=function(e){return e.replace(/Q([A-PR-Za-z]{1,3})Q/g,function(e,i){var u=0;var o;for(var s=0;s<i.length;s++){o=i.charCodeAt(s);if(o>r)o-=a;if(o>t)o--;o-=n;u=u*51+o}return String.fromCharCode(u)})}})()}var f=t.asteriskIntraWordEmphasis?I:A;this.makeHtml=function(e){if(i)throw new Error("Recursive call to converter.makeHtml");i=new r;u=new r;o=[];s=0;e=a.preConversion(e);e=e.replace(/~/g,"~T");e=e.replace(/\$/g,"~D");e=e.replace(/\r\n/g,"\n");e=e.replace(/\r/g,"\n");e="\n\n"+e+"\n\n";e=j(e);e=e.replace(/^[ \t]+$/gm,"");e=a.postNormalization(e);e=p(e);e=d(e);e=m(e);e=X(e);e=e.replace(/~D/g,"$$");e=e.replace(/~T/g,"~");e=a.postConversion(e);o=u=i=null;return e};function d(e){e=e.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,r,a,o){t=t.toLowerCase();i.set(t,R(n));if(a){return r}else if(o){u.set(t,o.replace(/"/g,"&quot;"))}return""});return e}function p(e){var t="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";var n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,g);e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,g);e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,g);e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,g);e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,g);return e}function h(e){e=e.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(o.push(e)-1)+"K\n\n"}function g(e,t){return h(t)}var v=function(e){return m(e)};function m(e,t){e=a.preBlockGamut(e,v);e=E(e);var n="<hr />\n";e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,n);e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,n);e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,n);e=$(e);e=L(e);e=M(e);e=a.postBlockGamut(e,v);e=p(e);e=P(e,t);return e}function b(e){e=a.preSpanGamut(e);e=B(e);e=w(e);e=H(e);e=y(e);e=k(e);e=N(e);e=e.replace(/~P/g,"://");e=R(e);e=f(e);e=e.replace(/  +\n/g," <br>\n");e=a.postSpanGamut(e);return e}function w(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");t=G(t,e.charAt(1)=="!"?"\\`*_/":"\\`*_");return t});return e}function k(e){if(e.indexOf("[")===-1)return e;e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,x);e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,x);e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,x);return e}function x(e,t,n,r,a,o,s,c){if(c==undefined)c="";var l=t;var f=n.replace(/:\/\//g,"~P");var d=r.toLowerCase();var p=a;var h=c;if(p==""){if(d==""){d=f.toLowerCase().replace(/ ?\n/g," ")}p="#"+d;if(i.get(d)!=undefined){p=i.get(d);if(u.get(d)!=undefined){h=u.get(d)}}else{if(l.search(/\(\s*\)$/m)>-1){p=""}else{return l}}}p=U(p);var g='<a href="'+p+'"';if(h!=""){h=T(h);h=G(h,"*_");g+=' title="'+h+'"'}g+=">"+f+"</a>";return g}function y(e){if(e.indexOf("![")===-1)return e;e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,C);e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,C);return e}function T(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function C(e,t,n,r,a,o,s,c){var l=t;var f=n;var d=r.toLowerCase();var p=a;var h=c;if(!h)h="";if(p==""){if(d==""){d=f.toLowerCase().replace(/ ?\n/g," ")}p="#"+d;if(i.get(d)!=undefined){p=i.get(d);if(u.get(d)!=undefined){h=u.get(d)}}else{return l}}f=G(T(f),"*_[]()");p=G(p,"*_");var g='<img src="'+p+'" alt="'+f+'"';h=T(h);h=G(h,"*_");g+=' title="'+h+'"';g+=" />";return g}function E(e){e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+b(t)+"</h1>\n\n"});e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+b(t)+"</h2>\n\n"});e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+b(n)+"</h"+r+">\n\n"});return e}function $(e,t){e+="~0";var n=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(s){e=e.replace(n,function(e,n,r){var a=n;var i=r.search(/[*+-]/g)>-1?"ul":"ol";var u;if(i==="ol")u=parseInt(r,10);var o=D(a,i,t);o=o.replace(/\s+$/,"");var s="<"+i;if(u&&u!==1)s+=' start="'+u+'"';o=s+">"+o+"</"+i+">\n";return o})}else{n=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;e=e.replace(n,function(e,t,n,r){var a=t;var i=n;var u=r.search(/[*+-]/g)>-1?"ul":"ol";var o;if(u==="ol")o=parseInt(r,10);var s=D(i,u);var c="<"+u;if(o&&o!==1)c+=' start="'+o+'"';s=a+c+">\n"+s+"</"+u+">\n";return s})}e=e.replace(/~0/,"");return e}var S={ol:"\\d+[.]",ul:"[*+-]"};function D(e,t,n){s++;e=e.replace(/\n{2,}$/,"\n");e+="~0";var r=S[t];var a=new RegExp("(^[ \\t]*)("+r+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+r+")[ \\t]+))","gm");var i=false;e=e.replace(a,function(e,t,r,a){var u=a;var o=t;var s=/\n\n$/.test(u);var c=s||u.search(/\n{2,}/)>-1;if(c||i){u=m(z(u),true)}else{u=$(z(u),true);u=u.replace(/\n$/,"");if(!n)u=b(u)}i=s;return"<li>"+u+"</li>\n"});e=e.replace(/~0/g,"");s--;return e}function L(e){e+="~0";e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t;var a=n;r=_(z(r));r=j(r);r=r.replace(/^\n+/g,"");r=r.replace(/\n+$/g,"");r="<pre><code>"+r+"\n</code></pre>";return"\n\n"+r+"\n\n"+a});e=e.replace(/~0/,"");return e}function B(e){e=e.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,a){var i=r;i=i.replace(/^([ \t]*)/g,"");i=i.replace(/[ \t]*$/g,"");i=_(i);i=i.replace(/:\/\//g,"~P");return t+"<code>"+i+"</code>"});return e}function _(e){e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=G(e,"*_{}[]\\",false);return e}function A(e){if(e.indexOf("*")===-1&&e.indexOf("_")===-1)return e;e=c(e);e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g,"$1<strong>$3</strong>");e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g,"$1<em>$3</em>");return l(e)}function I(e){if(e.indexOf("*")===-1&&e.indexOf("_")===-1)return e;e=c(e);e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W__|(?!\*)[\W_]\*\*|\w\*\*\w)[^\r])(\*\*|__)(?!\2)(?=\S)((?:|[^\r]*?(?!\2)[^\r])(?=\S_|\w|\S\*\*(?:[\W_]|$)).)(?=__(?:\W|$)|\*\*(?:[^*]|$))\2/g,"$1<strong>$3</strong>");e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W_|(?!\*)(?:[\W_]\*|\D\*(?=\w)\D))[^\r])(\*|_)(?!\2\2\2)(?=\S)((?:(?!\2)[^\r])*?(?=[^\s_]_|(?=\w)\D\*\D|[^\s*]\*(?:[\W_]|$)).)(?=_(?:\W|$)|\*(?:[^*]|$))\2/g,"$1<em>$3</em>");return l(e)}function M(e){e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;n=n.replace(/^[ \t]*>[ \t]?/gm,"~0");n=n.replace(/~0/g,"");n=n.replace(/^[ \t]+$/gm,"");n=m(n);n=n.replace(/(^|\n)/g,"$1  ");n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;n=n.replace(/^  /gm,"~0");n=n.replace(/~0/g,"");return n});return h("<blockquote>\n"+n+"\n</blockquote>")});return e}function P(e,t){e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");var n=e.split(/\n{2,}/g);var r=[];var a=/~K(\d+)K/;var i=n.length;for(var u=0;u<i;u++){var s=n[u];if(a.test(s)){r.push(s)}else if(/\S/.test(s)){s=b(s);s=s.replace(/^([ \t]*)/g,"<p>");s+="</p>";r.push(s)}}if(!t){i=r.length;for(var u=0;u<i;u++){var c=true;while(c){c=false;r[u]=r[u].replace(/~K(\d+)K/g,function(e,t){c=true;return o[t]})}}}return r.join("\n\n")}function R(e){e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;");return e}function H(e){e=e.replace(/\\(\\)/g,Z);e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,Z);return e}var q="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",W="[-A-Z0-9+&@#/%=~_|[\\])]",F=new RegExp('(="|<)?\\b(https?|ftp)(://'+q+"*"+W+")(?=$|\\W)","gi"),O=new RegExp(W,"i");function K(e,t,n,r){if(t)return e;if(r.charAt(r.length-1)!==")")return"<"+n+r+">";var a=r.match(/[()]/g);var i=0;for(var u=0;u<a.length;u++){if(a[u]==="("){if(i<=0)i=1;else i++}else{i--}}var o="";if(i<0){var s=new RegExp("\\){1,"+-i+"}$");r=r.replace(s,function(e){o=e;return""})}if(o){var c=r.charAt(r.length-1);if(!O.test(c)){o=c+o;r=r.substr(0,r.length-1)}}return"<"+n+r+">"+o}function N(e){e=e.replace(F,K);var t=function(e,t){var n=U(t);return'<a href="'+n+'">'+a.plainLinkText(t)+"</a>"};e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t);return e}function X(e){e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)});return e}function z(e){e=e.replace(/^(\t|[ ]{1,4})/gm,"~0");e=e.replace(/~0/g,"");return e}function j(e){if(!/\t/.test(e))return e;var t=["    ","   ","  "," "],n=0,r;return e.replace(/[\n\t]/g,function(e,a){if(e==="\n"){n=a+1;return e}r=(a-n)%4;n=a+1;return t[r]})}function U(e){e=T(e);e=G(e,"*_:()[]");return e}function G(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";if(n){r="\\\\"+r}var a=new RegExp(r,"g");e=e.replace(a,Z);return e}function Z(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}}})();(function(){var e,t;if(typeof exports==="object"&&typeof require==="function"){e=exports;t=require("./Markdown.Converter").Converter}else{e=window.Markdown;t=e.Converter}e.getSanitizingConverter=function(){var e=new t;e.hooks.chain("postConversion",n);e.hooks.chain("postConversion",o);return e};function n(e){return e.replace(/<[^>]*>?/gi,u)}var r=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol(?: start="\d+")?|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i;var a=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i;var i=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i;function u(e){if(e.match(r)||e.match(a)||e.match(i))return e;else return""}function o(e){if(e=="")return"";var t=/<\/?\w+[^>]*(\s|$|>)/g;var n=e.toLowerCase().match(t);var r=(n||[]).length;if(r==0)return e;var a,i;var u="<p><img><br><li><hr>";var o;var s=[];var c=[];var l=false;for(var f=0;f<r;f++){a=n[f].replace(/<\/?(\w+).*/,"$1");if(s[f]||u.search("<"+a+">")>-1)continue;i=n[f];o=-1;if(!/^<\//.test(i)){for(var d=f+1;d<r;d++){if(!s[d]&&n[d]=="</"+a+">"){o=d;break}}}if(o==-1)l=c[f]=true;else s[o]=true}if(!l)return e;var f=0;e=e.replace(t,function(e){var t=c[f]?"":e;f++;return t});return e}})();(function(){var e={},t={},n={},r=window.document,a=window.RegExp,i=window.navigator,u={lineLength:72},o={isIE:/msie/.test(i.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(i.userAgent.toLowerCase())||/msie 5/.test(i.userAgent.toLowerCase()),isOpera:/opera/.test(i.userAgent.toLowerCase())};var s={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"};var c="http://";var l="http://";Markdown.Editor=function(e,t,n){n=n||{};if(typeof n.handler==="function"){n={helpButton:n}}n.strings=n.strings||{};if(n.helpButton){n.strings.help=n.strings.help||n.helpButton.title}var a=function(e){return n.strings[e]||s[e]};t=t||"";var i=this.hooks=new Markdown.HookCollection;i.addNoop("onPreviewRefresh");i.addNoop("postBlockquoteCreation");i.addFalse("insertImageDialog");this.getConverter=function(){return e};var u=this,o;this.run=function(){if(o)return;o=new d(t);var s=new m(i,a);var c=new g(e,o,function(){i.onPreviewRefresh()});var l,f;if(!/\?noundo/.test(r.location.href)){l=new p(function(){c.refresh();if(f)f.setUndoRedoButtonStates()},o);this.textOperation=function(e){l.setCommandMode();e();u.refreshPreview()}}f=new v(t,o,l,c,s,n.helpButton,a);f.setUndoRedoButtonStates();var h=u.refreshPreview=function(){c.refresh(true)};h()}};function f(){}f.prototype.findTags=function(t,n){var r=this;var a;if(t){a=e.extendRegExp(t,"","$");this.before=this.before.replace(a,function(e){r.startTag=r.startTag+e;return""});a=e.extendRegExp(t,"^","");this.selection=this.selection.replace(a,function(e){r.startTag=r.startTag+e;return""})}if(n){a=e.extendRegExp(n,"","$");this.selection=this.selection.replace(a,function(e){r.endTag=e+r.endTag;return""});a=e.extendRegExp(n,"^","");this.after=this.after.replace(a,function(e){r.endTag=e+r.endTag;return""})}};f.prototype.trimWhitespace=function(e){var t,n,r=this;if(e){t=n=""}else{t=function(e){r.before+=e;return""};n=function(e){r.after=e+r.after;return""}}this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)};f.prototype.skipLines=function(e,t,n){if(e===undefined){e=1}if(t===undefined){t=1}e++;t++;var r;var i;if(navigator.userAgent.match(/Chrome/)){"X".match(/()./)}this.selection=this.selection.replace(/(^\n*)/,"");this.startTag=this.startTag+a.$1;this.selection=this.selection.replace(/(\n*$)/,"");this.endTag=this.endTag+a.$1;this.startTag=this.startTag.replace(/(^\n*)/,"");this.before=this.before+a.$1;this.endTag=this.endTag.replace(/(\n*$)/,"");this.after=this.after+a.$1;if(this.before){r=i="";while(e--){r+="\\n?";i+="\n"}if(n){r="\\n*"}this.before=this.before.replace(new a(r+"$",""),i)}if(this.after){r=i="";while(t--){r+="\\n?";i+="\n"}if(n){r="\\n*"}this.after=this.after.replace(new a(r,""),i)}};function d(e){this.buttonBar=r.getElementById("wmd-button-bar"+e);this.preview=r.getElementById("wmd-preview"+e);this.input=r.getElementById("wmd-input"+e)}e.isVisible=function(e){if(window.getComputedStyle){return window.getComputedStyle(e,null).getPropertyValue("display")!=="none"}else if(e.currentStyle){return e.currentStyle["display"]!=="none"}};e.addEvent=function(e,t,n){if(e.attachEvent){e.attachEvent("on"+t,n)}else{e.addEventListener(t,n,false)}};e.removeEvent=function(e,t,n){if(e.detachEvent){e.detachEvent("on"+t,n)}else{e.removeEventListener(t,n,false)}};e.fixEolChars=function(e){e=e.replace(/\r\n/g,"\n");e=e.replace(/\r/g,"\n");return e};e.extendRegExp=function(e,t,n){if(t===null||t===undefined){t=""}if(n===null||n===undefined){n=""}var r=e.toString();var i;r=r.replace(/\/([gim]*)$/,function(e,t){i=t;return""});r=r.replace(/(^\/|\/$)/g,"");r=t+r+n;return new a(r,i)};t.getTop=function(e,t){var n=e.offsetTop;if(!t){while(e=e.offsetParent){n+=e.offsetTop}}return n};t.getHeight=function(e){return e.offsetHeight||e.scrollHeight};t.getWidth=function(e){return e.offsetWidth||e.scrollWidth};t.getPageSize=function(){var e,t;var n,a;if(self.innerHeight&&self.scrollMaxY){e=r.body.scrollWidth;t=self.innerHeight+self.scrollMaxY}else if(r.body.scrollHeight>r.body.offsetHeight){e=r.body.scrollWidth;t=r.body.scrollHeight}else{e=r.body.offsetWidth;t=r.body.offsetHeight}if(self.innerHeight){n=self.innerWidth;a=self.innerHeight}else if(r.documentElement&&r.documentElement.clientHeight){n=r.documentElement.clientWidth;a=r.documentElement.clientHeight}else if(r.body){n=r.body.clientWidth;a=r.body.clientHeight}var i=Math.max(e,n);var u=Math.max(t,a);return[i,u,n,a]};function p(t,n){var r=this;var a=[];var i=0;var u="none";var s;var c;var l;var f=function(e,t){if(u!=e){u=e;if(!t){p()}}if(!o.isIE||u!="moving"){c=setTimeout(d,1)}else{l=null}};var d=function(e){l=new h(n,e);c=undefined};this.setCommandMode=function(){u="command";p();c=setTimeout(d,0)};this.canUndo=function(){return i>1};this.canRedo=function(){if(a[i+1]){return true}return false};this.undo=function(){if(r.canUndo()){if(s){s.restore();s=null}else{a[i]=new h(n);a[--i].restore();if(t){t()}}}u="none";n.input.focus();d()};this.redo=function(){if(r.canRedo()){a[++i].restore();if(t){t()}}u="none";n.input.focus();d()};var p=function(){var e=l||new h(n);if(!e){return false}if(u=="moving"){if(!s){s=e}return}if(s){if(a[i-1].text!=s.text){a[i++]=s}s=null}a[i++]=e;a[i+1]=null;if(t){t()}};var g=function(e){var t=false;if((e.ctrlKey||e.metaKey)&&!e.altKey){var n=e.charCode||e.keyCode;var a=String.fromCharCode(n);switch(a.toLowerCase()){case"y":r.redo();t=true;break;case"z":if(!e.shiftKey){r.undo()}else{r.redo()}t=true;break}}if(t){if(e.preventDefault){e.preventDefault()}if(window.event){window.event.returnValue=false}return}};var v=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;if(t>=33&&t<=40||t>=63232&&t<=63235){f("moving")}else if(t==8||t==46||t==127){f("deleting")}else if(t==13){f("newlines")}else if(t==27){f("escape")}else if((t<16||t>20)&&t!=91){f("typing")}}};var m=function(){e.addEvent(n.input,"keypress",function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&(e.keyCode==89||e.keyCode==90)){e.preventDefault()}});var t=function(){if(o.isIE||l&&l.text!=n.input.value){if(c==undefined){u="paste";p();d()}}};e.addEvent(n.input,"keydown",g);e.addEvent(n.input,"keydown",v);e.addEvent(n.input,"mousedown",function(){f("moving")});n.input.onpaste=t;n.input.ondrop=t};var b=function(){m();d(true);p()};b()}function h(t,n){var a=this;var i=t.input;this.init=function(){if(!e.isVisible(i)){return}if(!n&&r.activeElement&&r.activeElement!==i){return}this.setInputAreaSelectionStartEnd();this.scrollTop=i.scrollTop;if(!this.text&&i.selectionStart||i.selectionStart===0){this.text=i.value}};this.setInputAreaSelection=function(){if(!e.isVisible(i)){return}if(i.selectionStart!==undefined&&!o.isOpera){i.focus();i.selectionStart=a.start;i.selectionEnd=a.end;i.scrollTop=a.scrollTop}else if(r.selection){if(r.activeElement&&r.activeElement!==i){return}i.focus();var t=i.createTextRange();t.moveStart("character",-i.value.length);t.moveEnd("character",-i.value.length);t.moveEnd("character",a.end);t.moveStart("character",a.start);t.select()}};this.setInputAreaSelectionStartEnd=function(){if(!t.ieCachedRange&&(i.selectionStart||i.selectionStart===0)){a.start=i.selectionStart;a.end=i.selectionEnd}else if(r.selection){a.text=e.fixEolChars(i.value);var n=t.ieCachedRange||r.selection.createRange();var u=e.fixEolChars(n.text);var o="";var s=o+u+o;n.text=s;var c=e.fixEolChars(i.value);n.moveStart("character",-s.length);n.text=u;a.start=c.indexOf(o);a.end=c.lastIndexOf(o)-o.length;var l=a.text.length-e.fixEolChars(i.value).length;if(l){n.moveStart("character",-u.length);while(l--){u+="\n";a.end+=1}n.text=u}if(t.ieCachedRange)a.scrollTop=t.ieCachedScrollTop;t.ieCachedRange=null;this.setInputAreaSelection()}};this.restore=function(){if(a.text!=undefined&&a.text!=i.value){i.value=a.text}this.setInputAreaSelection();i.scrollTop=a.scrollTop};this.getChunks=function(){var t=new f;t.before=e.fixEolChars(a.text.substring(0,a.start));t.startTag="";t.selection=e.fixEolChars(a.text.substring(a.start,a.end));t.endTag="";t.after=e.fixEolChars(a.text.substring(a.end));t.scrollTop=a.scrollTop;return t};this.setChunks=function(e){e.before=e.before+e.startTag;e.after=e.endTag+e.after;this.start=e.before.length;this.end=e.before.length+e.selection.length;this.text=e.before+e.selection+e.after;this.scrollTop=e.scrollTop};this.init()}function g(n,a,i){var u=this;var s;var c;var l;var f=3e3;var d="manual";var p=function(t,n){e.addEvent(t,"input",n);t.onpaste=n;t.ondrop=n;e.addEvent(t,"keypress",n);e.addEvent(t,"keydown",n)};var h=function(){var e=0;if(window.innerHeight){e=window.pageYOffset}else if(r.documentElement&&r.documentElement.scrollTop){e=r.documentElement.scrollTop}else if(r.body){e=r.body.scrollTop}return e};var g=function(){if(!a.preview)return;var e=a.input.value;if(e&&e==l){return}else{l=e}var t=(new Date).getTime();e=n.makeHtml(e);var r=(new Date).getTime();c=r-t;C(e)};var v=function(){if(s){clearTimeout(s);s=undefined}if(d!=="manual"){var e=0;if(d==="delayed"){e=c}if(e>f){e=f}s=setTimeout(g,e)}};var m=function(e){if(e.scrollHeight<=e.clientHeight){return 1}return e.scrollTop/(e.scrollHeight-e.clientHeight)};var b=function(){if(a.preview){a.preview.scrollTop=(a.preview.scrollHeight-a.preview.clientHeight)*m(a.preview)}};this.refresh=function(e){if(e){l="";g()}else{v()}};this.processingTime=function(){return c};var w=true;var k=function(e){var t=a.preview;var n=t.parentNode;var r=t.nextSibling;n.removeChild(t);t.innerHTML=e;if(!r)n.appendChild(t);else n.insertBefore(t,r)};var x=function(e){a.preview.innerHTML=e};var y;var T=function(e){if(y)return y(e);try{x(e);y=x}catch(t){y=k;y(e)}};var C=function(e){var n=t.getTop(a.input)-h();if(a.preview){T(e);i()}b();if(w){w=false;return}var r=t.getTop(a.input)-h();if(o.isIE){setTimeout(function(){window.scrollBy(0,r-n)},0)}else{window.scrollBy(0,r-n)}};var E=function(){p(a.input,v);g();if(a.preview){a.preview.scrollTop=0}};E()}n.createBackground=function(){var e=r.createElement("div"),n=e.style;e.className="wmd-prompt-background";n.position="absolute";n.top="0";n.zIndex="1000";if(o.isIE){n.filter="alpha(opacity=50)"}else{n.opacity="0.5"}var a=t.getPageSize();n.height=a[1]+"px";if(o.isIE){n.left=r.documentElement.scrollLeft;n.width=r.documentElement.clientWidth}else{n.left="0";n.width="100%"}r.body.appendChild(e);return e};n.prompt=function(n,a,i){var u;var s;if(a===undefined){a=""}var c=function(e){var t=e.charCode||e.keyCode;if(t===27){if(e.stopPropagation)e.stopPropagation();l(true);return false}};var l=function(t){e.removeEvent(r.body,"keyup",c);var n=s.value;if(t){n=null}else{n=n.replace(/^http:\/\/(https?|ftp):\/\//,"$1://");if(!/^(?:https?|ftp):\/\//.test(n))n="http://"+n}u.parentNode.removeChild(u);i(n);return false};var f=function(){u=r.createElement("div");u.className="wmd-prompt-dialog";u.style.padding="10px;";u.style.position="fixed";u.style.width="400px";u.style.zIndex="1001";var i=r.createElement("div");i.innerHTML=n;i.style.padding="5px";u.appendChild(i);var f=r.createElement("form"),d=f.style;f.onsubmit=function(){return l(false)};d.padding="0";d.margin="0";d.cssFloat="left";d.width="100%";d.textAlign="center";d.position="relative";u.appendChild(f);s=r.createElement("input");s.type="text";s.value=a;d=s.style;d.display="block";d.width="80%";d.marginLeft=d.marginRight="auto";f.appendChild(s);var p=r.createElement("input");p.type="button";p.onclick=function(){return l(false)};p.value="OK";d=p.style;d.margin="10px";d.display="inline";d.width="7em";var h=r.createElement("input");h.type="button";h.onclick=function(){return l(true)};h.value="Cancel";d=h.style;d.margin="10px";d.display="inline";d.width="7em";f.appendChild(p);f.appendChild(h);e.addEvent(r.body,"keyup",c);u.style.top="50%";u.style.left="50%";u.style.display="block";if(o.isIE_5or6){u.style.position="absolute";u.style.top=r.documentElement.scrollTop+200+"px";u.style.left="50%"}r.body.appendChild(u);u.style.marginTop=-(t.getHeight(u)/2)+"px";u.style.marginLeft=-(t.getWidth(u)/2)+"px"};setTimeout(function(){f();var e=a.length;if(s.selectionStart!==undefined){s.selectionStart=0;s.selectionEnd=e}else if(s.createTextRange){var t=s.createTextRange();t.collapse(false);t.moveStart("character",-e);t.moveEnd("character",e);t.select()}s.focus()},0)};function v(t,n,a,u,s,c,l){var f=n.input,d={};b();var p="keydown";if(o.isOpera){p="keypress"}e.addEvent(f,p,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode;var n=String.fromCharCode(t).toLowerCase();switch(n){case"b":g(d.bold);break;case"i":g(d.italic);break;case"l":g(d.link);break;case"q":g(d.quote);break;case"k":g(d.code);break;case"g":g(d.image);break;case"o":g(d.olist);break;case"u":g(d.ulist);break;case"h":g(d.heading);break;case"r":g(d.hr);break;case"y":g(d.redo);break;case"z":if(e.shiftKey){g(d.redo)}else{g(d.undo)}break;default:return}if(e.preventDefault){e.preventDefault()}if(window.event){window.event.returnValue=false}}});e.addEvent(f,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(t===13){var n={};n.textOp=m("doAutoindent");g(n)}}});if(o.isIE){e.addEvent(f,"keydown",function(e){var t=e.keyCode;if(t===27){return false}})}function g(e){f.focus();if(e.textOp){if(a){a.setCommandMode()}var t=new h(n);if(!t){return}var r=t.getChunks();var i=function(){f.focus();if(r){t.setChunks(r)}t.restore();u.refresh()};var o=e.textOp(r,i);if(!o){i()}}if(e.execute){e.execute(a)}}function v(e,t){var a="0px";var i="-20px";var u="-40px";var s=e.getElementsByTagName("span")[0];if(t){s.style.backgroundPosition=e.XShift+" "+a;e.onmouseover=function(){s.style.backgroundPosition=this.XShift+" "+u};e.onmouseout=function(){s.style.backgroundPosition=this.XShift+" "+a};if(o.isIE){e.onmousedown=function(){if(r.activeElement&&r.activeElement!==n.input){return}n.ieCachedRange=document.selection.createRange();n.ieCachedScrollTop=n.input.scrollTop}}if(!e.isHelp){e.onclick=function(){if(this.onmouseout){this.onmouseout()}g(this);return false}}}else{s.style.backgroundPosition=e.XShift+" "+i;e.onmouseover=e.onmouseout=e.onclick=function(){}}}function m(e){if(typeof e==="string")e=s[e];return function(){e.apply(s,arguments)}}function b(){var e=n.buttonBar;var r="0px";var a="-20px";var u="-40px";var o=document.createElement("ul");o.id="wmd-button-row"+t;o.className="wmd-button-row";o=e.appendChild(o);var s=0;var f=function(e,n,r,a){var i=document.createElement("li");i.className="wmd-button";i.style.left=s+"px";s+=25;var u=document.createElement("span");i.id=e+t;i.appendChild(u);i.title=n;i.XShift=r;if(a)i.textOp=a;v(i,true);o.appendChild(i);return i};var p=function(e){var n=document.createElement("li");n.className="wmd-spacer wmd-spacer"+e;n.id="wmd-spacer"+e+t;o.appendChild(n);s+=25};d.bold=f("wmd-bold-button",l("bold"),"0px",m("doBold"));d.italic=f("wmd-italic-button",l("italic"),"-20px",m("doItalic"));p(1);d.link=f("wmd-link-button",l("link"),"-40px",m(function(e,t){return this.doLinkOrImage(e,t,false)}));d.quote=f("wmd-quote-button",l("quote"),"-60px",m("doBlockquote"));d.code=f("wmd-code-button",l("code"),"-80px",m("doCode"));d.image=f("wmd-image-button",l("image"),"-100px",m(function(e,t){return this.doLinkOrImage(e,t,true)}));p(2);d.olist=f("wmd-olist-button",l("olist"),"-120px",m(function(e,t){
this.doList(e,t,true)}));d.ulist=f("wmd-ulist-button",l("ulist"),"-140px",m(function(e,t){this.doList(e,t,false)}));d.heading=f("wmd-heading-button",l("heading"),"-160px",m("doHeading"));d.hr=f("wmd-hr-button",l("hr"),"-180px",m("doHorizontalRule"));p(3);d.undo=f("wmd-undo-button",l("undo"),"-200px",null);d.undo.execute=function(e){if(e)e.undo()};var h=/win/.test(i.platform.toLowerCase())?l("redo"):l("redomac");d.redo=f("wmd-redo-button",h,"-220px",null);d.redo.execute=function(e){if(e)e.redo()};if(c){var g=document.createElement("li");var b=document.createElement("span");g.appendChild(b);g.className="wmd-button wmd-help-button";g.id="wmd-help-button"+t;g.XShift="-240px";g.isHelp=true;g.style.right="0px";g.title=l("help");g.onclick=c.handler;v(g,true);o.appendChild(g);d.help=g}w()}function w(){if(a){v(d.undo,a.canUndo());v(d.redo,a.canRedo())}}this.setUndoRedoButtonStates=w}function m(e,t){this.hooks=e;this.getString=t}var b=m.prototype;b.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";b.unwrap=function(e){var t=new a("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")};b.wrap=function(e,t){this.unwrap(e);var n=new a("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){if(new a("^"+r.prefixes,"").test(e)){return e}return t+"\n"});e.selection=e.selection.replace(/\s+$/,"")};b.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))};b.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))};b.doBorI=function(e,t,n,r){e.trimWhitespace();e.selection=e.selection.replace(/\n{2,}/g,"\n");var i=/(\**$)/.exec(e.before)[0];var u=/(^\**)/.exec(e.after)[0];var o=Math.min(i.length,u.length);if(o>=n&&(o!=2||n!=1)){e.before=e.before.replace(a("[*]{"+n+"}$",""),"");e.after=e.after.replace(a("^[*]{"+n+"}",""),"")}else if(!e.selection&&u){e.after=e.after.replace(/^([*_]*)/,"");e.before=e.before.replace(/(\s?)$/,"");var s=a.$1;e.before=e.before+u+s}else{if(!e.selection&&!u){e.selection=r}var c=n<=1?"*":"**";e.before=e.before+c;e.after=c+e.after}return};b.stripLinkDefs=function(e,t){e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,r,a,i){t[n]=e.replace(/\s*$/,"");if(a){t[n]=e.replace(/["(](.+?)[")]$/,"");return a+i}return""});return e};b.addLinkDef=function(e,t){var n=0;var r={};e.before=this.stripLinkDefs(e.before,r);e.selection=this.stripLinkDefs(e.selection,r);e.after=this.stripLinkDefs(e.after,r);var a="";var i=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g;var u=function(e){n++;e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:");a+="\n"+e};var o=function(e,t,a,s,c,l){a=a.replace(i,o);if(r[c]){u(r[c]);return t+a+s+n+l}return e};e.before=e.before.replace(i,o);if(t){u(t)}else{e.selection=e.selection.replace(i,o)}var s=n;e.after=e.after.replace(i,o);if(e.after){e.after=e.after.replace(/\n*$/,"")}if(!e.after){e.selection=e.selection.replace(/\n*$/,"")}e.after+="\n\n"+a;return s};function w(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){var r=false;t=t.replace(/%(?:[\da-fA-F]{2})|\?|\+|[^\w\d-./[\]]/g,function(e){if(e.length===3&&e.charAt(0)=="%"){return e.toUpperCase()}switch(e){case"?":r=true;return"?";break;case"+":if(r)return"%20";break}return encodeURI(e)});if(n){n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,"");n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return n?t+' "'+n+'"':t})}b.doLinkOrImage=function(e,t,r){e.trimWhitespace();e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var a;if(e.endTag.length>1&&e.startTag.length>0){e.startTag=e.startTag.replace(/!?\[/,"");e.endTag="";this.addLinkDef(e,null)}else{e.selection=e.startTag+e.selection+e.endTag;e.startTag=e.endTag="";if(/\n\n/.test(e.selection)){this.addLinkDef(e,null);return}var i=this;var u=function(n){a.parentNode.removeChild(a);if(n!==null){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var u=" [999]: "+w(n);var o=i.addLinkDef(e,u);e.startTag=r?"![":"[";e.endTag="]["+o+"]";if(!e.selection){if(r){e.selection=i.getString("imagedescription")}else{e.selection=i.getString("linkdescription")}}}t()};a=n.createBackground();if(r){if(!this.hooks.insertImageDialog(u))n.prompt(this.getString("imagedialog"),c,u)}else{n.prompt(this.getString("linkdialog"),l,u)}return true}};b.doAutoindent=function(e,t){var n=this,r=false;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n");e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n");e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n");if(!e.selection&&!/^[ \t]*(?:\n|$)/.test(e.after)){e.after=e.after.replace(/^[^\n]*/,function(t){e.selection=t;return""});r=true}if(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)){if(n.doList){n.doList(e)}}if(/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)){if(n.doBlockquote){n.doBlockquote(e)}}if(/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)){if(n.doCode){n.doCode(e)}}if(r){e.after=e.selection+e.after;e.selection=""}};b.doBlockquote=function(e,t){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,r,a){e.before+=n;e.after=a+e.after;return r});e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){e.selection=n+e.selection;return""});e.selection=e.selection.replace(/^(\s|>)+$/,"");e.selection=e.selection||this.getString("quoteexample");var n="",r="",a;if(e.before){var i=e.before.replace(/\n$/,"").split("\n");var o=false;for(var s=0;s<i.length;s++){var c=false;a=i[s];o=o&&a.length>0;if(/^>/.test(a)){c=true;if(!o&&a.length>1)o=true}else if(/^[ \t]*$/.test(a)){c=true}else{c=o}if(c){n+=a+"\n"}else{r+=n+a;n="\n"}}if(!/(^|\n)>/.test(n)){r+=n;n=""}}e.startTag=n;e.before=r;if(e.after){e.after=e.after.replace(/^\n?/,"\n")}e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){e.endTag=t;return""});var l=function(t){var n=t?"> ":"";if(e.startTag){e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})}if(e.endTag){e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})}};if(/^(?![ ]{0,3}>)/m.test(e.selection)){this.wrap(e,u.lineLength-2);e.selection=e.selection.replace(/^/gm,"> ");l(true);e.skipLines()}else{e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,"");this.unwrap(e);l(false);if(!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag){e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")}if(!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag){e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n")}}e.selection=this.hooks.postBlockquoteCreation(e.selection);if(!/\n/.test(e.selection)){e.selection=e.selection.replace(/^(> *)/,function(t,n){e.startTag+=n;return""})}};b.doCode=function(e,t){var n=/\S[ ]*$/.test(e.before);var r=/^[ ]*\S/.test(e.after);if(!r&&!n||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){e.selection=t+e.selection;return""});var a=1;var i=1;if(/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)){a=0}if(/^\n(\t|[ ]{4,})/.test(e.after)){i=0}e.skipLines(a,i);if(!e.selection){e.startTag="    ";e.selection=this.getString("codeexample")}else{if(/^[ ]{0,3}\S/m.test(e.selection)){if(/\n/.test(e.selection))e.selection=e.selection.replace(/^/gm,"    ");else e.before+="    "}else{e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,"")}}}else{e.trimWhitespace();e.findTags(/`/,/`/);if(!e.startTag&&!e.endTag){e.startTag=e.endTag="`";if(!e.selection){e.selection=this.getString("codeexample")}}else if(e.endTag&&!e.startTag){e.before+=e.endTag;e.endTag=""}else{e.startTag=e.endTag=""}}};b.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/;var i=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;var o="-";var s=1;var c=function(){var e;if(n){e=" "+s+". ";s++}else{e=" "+o+" "}return e};var l=function(e){if(n===undefined){n=/^\s*\d/.test(e)}e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(e){return c()});return e};e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null);if(e.before&&!/\n$/.test(e.before)&&!/^\n/.test(e.startTag)){e.before+=e.startTag;e.startTag=""}if(e.startTag){var f=/\d+[.]/.test(e.startTag);e.startTag="";e.selection=e.selection.replace(/\n[ ]{4}/g,"\n");this.unwrap(e);e.skipLines();if(f){e.after=e.after.replace(i,l)}if(n==f){return}}var d=1;e.before=e.before.replace(r,function(e){if(/^\s*([*+-])/.test(e)){o=a.$1}d=/[^\n]\n\n[^\n]/.test(e)?1:0;return l(e)});if(!e.selection){e.selection=this.getString("litem")}var p=c();var h=1;e.after=e.after.replace(i,function(e){h=/[^\n]\n\n[^\n]/.test(e)?1:0;return l(e)});e.trimWhitespace(true);e.skipLines(d,h,true);e.startTag=p;var g=p.replace(/./g," ");this.wrap(e,u.lineLength-g.length);e.selection=e.selection.replace(/\n/g,"\n"+g)};b.doHeading=function(e,t){e.selection=e.selection.replace(/\s+/g," ");e.selection=e.selection.replace(/(^\s+|\s+$)/g,"");if(!e.selection){e.startTag="## ";e.selection=this.getString("headingexample");e.endTag=" ##";return}var n=0;e.findTags(/#+[ ]*/,/[ ]*#+/);if(/#+/.test(e.startTag)){n=a.lastMatch.length}e.startTag=e.endTag="";e.findTags(null,/\s?(-+|=+)/);if(/=+/.test(e.endTag)){n=1}if(/-+/.test(e.endTag)){n=2}e.startTag=e.endTag="";e.skipLines(1,1);var r=n==0?2:n-1;if(r>0){var i=r>=2?"-":"=";var o=e.selection.length;if(o>u.lineLength){o=u.lineLength}e.endTag="\n";while(o--){e.endTag+=i}}};b.doHorizontalRule=function(e,t){e.startTag="----------\n";e.selection="";e.skipLines(2,1,true)}})();(function(){var e=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");if(!Array.indexOf){Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++){if(this[t]==e){return t}}return-1}}function t(e){return e.replace(/^\s+|\s+$/g,"")}function n(e){return e.replace(/\s+$/g,"")}function r(e){return e.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function a(e,t){return e.indexOf(t)!=-1}function i(e,t){return e.replace(/<[^>]*>?/gi,function(e){return e.match(t)?e:""})}function u(e,t){var n={};for(var r=0;r<e.length;r++)n[e[r]]=e[r];for(r=0;r<t.length;r++)n[t[r]]=t[r];var a=[];for(var i in n){if(n.hasOwnProperty(i))a.push(n[i])}return a}function o(e){if(e.charAt(0)!="")e=""+e;if(e.charAt(e.length-1)!="")e=e+"";return e}function s(e){if(e.charAt(0)=="")e=e.substr(1);if(e.charAt(e.length-1)=="")e=e.substr(0,e.length-1);return e}function c(t,n){return i(l(t,n),e)}function l(e,t){var n=t.blockGamutHookCallback(e);n=p(n);n=n.replace(/~D/g,"$$").replace(/~T/g,"~");n=t.previousPostConversion(n);return n}function f(e){return e.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function d(e){return e.replace(/~I/g,"|").replace(/~i/g,":")}function p(e){e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)});return e}function h(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}Markdown.Extra=function(){this.converter=null;this.hashBlocks=[];this.footnotes={};this.usedFootnotes=[];this.attributeBlocks=false;this.googleCodePrettify=false;this.highlightJs=false;this.tableClass="";this.tabWidth=4};Markdown.Extra.init=function(e,t){var n=new Markdown.Extra;var r=[];var i=[];var u=[];var o=["unHashExtraBlocks"];t=t||{};t.extensions=t.extensions||["all"];if(a(t.extensions,"all")){t.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","strikethrough","newlines"]}i.push("wrapHeaders");if(a(t.extensions,"attr_list")){r.push("hashFcbAttributeBlocks");i.push("hashHeaderAttributeBlocks");o.push("applyAttributeBlocks");n.attributeBlocks=true}if(a(t.extensions,"fenced_code_gfm")){i.push("fencedCodeBlocks");r.push("fencedCodeBlocks")}if(a(t.extensions,"tables")){i.push("tables")}if(a(t.extensions,"def_list")){i.push("definitionLists")}if(a(t.extensions,"footnotes")){r.push("stripFootnoteDefinitions");i.push("doFootnotes");o.push("printFootnotes")}if(a(t.extensions,"smartypants")){o.push("runSmartyPants")}if(a(t.extensions,"strikethrough")){u.push("strikethrough")}if(a(t.extensions,"newlines")){u.push("newlines")}e.hooks.chain("postNormalization",function(e){return n.doTransform(r,e)+"\n"});e.hooks.chain("preBlockGamut",function(e,t){n.blockGamutHookCallback=t;e=f(e);e=n.doTransform(i,e)+"\n";e=d(e);return e});e.hooks.chain("postSpanGamut",function(e){return n.doTransform(u,e)});n.previousPostConversion=e.hooks.postConversion;e.hooks.chain("postConversion",function(e){e=n.doTransform(o,e);n.hashBlocks=[];n.footnotes={};n.usedFootnotes=[];return e});if("highlighter"in t){n.googleCodePrettify=t.highlighter==="prettify";n.highlightJs=t.highlighter==="highlight"}if("table_class"in t){n.tableClass=t.table_class}n.converter=e;return n};Markdown.Extra.prototype.doTransform=function(e,t){for(var n=0;n<e.length;n++)t=this[e[n]](t);return t};Markdown.Extra.prototype.hashExtraBlock=function(e){return"\n<p>~X"+(this.hashBlocks.push(e)-1)+"X</p>\n"};Markdown.Extra.prototype.hashExtraInline=function(e){return"~X"+(this.hashBlocks.push(e)-1)+"X"};Markdown.Extra.prototype.unHashExtraBlocks=function(e){var t=this;function n(){var r=false;e=e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,n){r=true;var a=parseInt(n,10);return t.hashBlocks[a]});if(r===true){n()}}n();return e};Markdown.Extra.prototype.wrapHeaders=function(e){function t(e){return"\n"+e+"\n"}e=e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,t);e=e.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,t);e=e.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,t);return e};var g="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}";var v=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+g+"[ \\t]*(?:\\n|0x03)","gm");var m=new RegExp("^(.*)[ \\t]+"+g+"[ \\t]*\\n"+"(?=[\\-|=]+\\s*(?:\\n|0x03))","gm");var b=new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+"+g+"[ \\t]*\\n"+"(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(e){var t=this;function n(e,n,r){return"<p>~XX"+(t.hashBlocks.push(r)-1)+"XX</p>\n"+n+"\n"}e=e.replace(v,n);e=e.replace(m,n);return e};Markdown.Extra.prototype.hashFcbAttributeBlocks=function(e){var t=this;function n(e,n,r){return"<p>~XX"+(t.hashBlocks.push(r)-1)+"XX</p>\n"+n+"\n"}return e.replace(b,n)};Markdown.Extra.prototype.applyAttributeBlocks=function(e){var t=this;var n=new RegExp("<p>~XX(\\d+)XX</p>[\\s]*"+'(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");e=e.replace(n,function(e,n,r,a,i){if(!r)return"";var o=parseInt(n,10);var s=t.hashBlocks[o];var c=s.match(/#[^\s#.]+/g)||[];var l=c[0]?' id="'+c[0].substr(1,c[0].length-1)+'"':"";var f=s.match(/\.[^\s#.]+/g)||[];for(var d=0;d<f.length;d++)f[d]=f[d].substr(1,f[d].length-1);var p="";if(a)f=u(f,[a]);if(f.length>0)p=' class="'+f.join(" ")+'"';return"<"+r+l+p+i});return e};Markdown.Extra.prototype.tables=function(e){var n=this;var r=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");var a=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");e=e.replace(r,i);e=e.replace(a,i);function i(e,r,a,i,u,o){r=r.replace(/^ *[|]/m,"");a=a.replace(/^ *[|]/m,"");i=i.replace(/^ *[|]/gm,"");r=r.replace(/[|] *$/m,"");a=a.replace(/[|] *$/m,"");i=i.replace(/[|] *$/gm,"");var s=a.split(/ *[|] */);var l=[];for(var f=0;f<s.length;f++){var d=s[f];if(d.match(/^ *-+: *$/m))l[f]=' align="right"';else if(d.match(/^ *:-+: *$/m))l[f]=' align="center"';else if(d.match(/^ *:-+ *$/m))l[f]=' align="left"';else l[f]=""}var p=r.split(/ *[|] */);var h=p.length;var g=n.tableClass?' class="'+n.tableClass+'"':"";var v=["<table",g,">\n","<thead>\n","<tr>\n"].join("");for(f=0;f<h;f++){var m=c(t(p[f]),n);v+=["  <th",l[f],">",m,"</th>\n"].join("")}v+="</tr>\n</thead>\n";var b=i.split("\n");for(f=0;f<b.length;f++){if(b[f].match(/^\s*$/))continue;var w=b[f].split(/ *[|] */);var k=h-w.length;for(var x=0;x<k;x++)w.push("");v+="<tr>\n";for(x=0;x<h;x++){var y=c(t(w[x]),n);v+=["  <td",l[x],">",y,"</td>\n"].join("")}v+="</tr>\n"}v+="</table>\n";return n.hashExtraBlock(v)}return e};Markdown.Extra.prototype.stripFootnoteDefinitions=function(e){var t=this;e=e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(e,n,r){n=h(n);r+="\n";r=r.replace(/^[ ]{0,3}/g,"");t.footnotes[n]=r;return"\n"});return e};Markdown.Extra.prototype.doFootnotes=function(e){var t=this;if(t.isConvertingFootnote===true){return e}var n=0;e=e.replace(/\[\^(.+?)\]/g,function(e,r){var a=h(r);var i=t.footnotes[a];if(i===undefined){return e}n++;t.usedFootnotes.push(a);var u='<a href="#fn:'+a+'" id="fnref:'+a+'" title="See footnote" class="footnote">'+n+"</a>";return t.hashExtraInline(u)});return e};Markdown.Extra.prototype.printFootnotes=function(e){var t=this;if(t.usedFootnotes.length===0){return e}e+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var n=0;n<t.usedFootnotes.length;n++){var r=t.usedFootnotes[n];var a=t.footnotes[r];t.isConvertingFootnote=true;var i=c(a,t);delete t.isConvertingFootnote;e+='<li id="fn:'+r+'">'+i+' <a href="#fnref:'+r+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}e+="</ol>\n</div>";return e};Markdown.Extra.prototype.fencedCodeBlocks=function(e){function t(e){e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=e.replace(/~D/g,"$$");e=e.replace(/~T/g,"~");return e}var n=this;e=e.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(e,r,a){var i=r,u=a;var o=n.googleCodePrettify?' class="prettyprint"':"";var s="";if(i){if(n.googleCodePrettify||n.highlightJs){s=' class="language-'+i+'"'}else{s=' class="'+i+'"'}}var c=["<pre",o,"><code",s,">",t(u),"</code></pre>"].join("");return n.hashExtraBlock(c)});return e};Markdown.Extra.prototype.educatePants=function(e){var t=this;var n="";var r=0;e.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(a,i,u,o,s,c,l){var f=e.substring(r,l);n+=t.applyPants(f);t.smartyPantsLastChar=n.substring(n.length-1);r=l+a.length;if(!i){n+=a;return}if(!/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(u)){s=t.educatePants(s)}else{t.smartyPantsLastChar=s.substring(s.length-1)}n+=i+u+o+s+c});var a=e.substring(r);n+=t.applyPants(a);t.smartyPantsLastChar=n.substring(n.length-1);return n};function w(e,t){var n=t;n=n.replace(/&\#8220;/g,'"');n=n.replace(/&\#8221;/g,'"');n=n.replace(/&\#8216;/g,"'");n=n.replace(/&\#8217;/g,"'");n=n.replace(/&\#8212;/g,"---");n=n.replace(/&\#8211;/g,"--");n=n.replace(/&\#8230;/g,"...");return n}Markdown.Extra.prototype.applyPants=function(e){e=e.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;");e=e.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;");e=e.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;");if(/^'$/.test(e)){if(/\S/.test(this.smartyPantsLastChar)){return"&#8217;"}return"&#8216;"}if(/^"$/.test(e)){if(/\S/.test(this.smartyPantsLastChar)){return"&#8221;"}return"&#8220;"}e=e.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;");e=e.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;");e=e.replace(/"'(?=\w)/g,"&#8220;&#8216;");e=e.replace(/'"(?=\w)/g,"&#8216;&#8220;");e=e.replace(/'(?=\d{2}s)/g,"&#8217;");e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;");e=e.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;");e=e.replace(/'(?=\s|s\b)/g,"&#8217;");e=e.replace(/'/g,"&#8216;");e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;");e=e.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;");e=e.replace(/"(?=\s)/g,"&#8221;");e=e.replace(/"/gi,"&#8220;");return e};Markdown.Extra.prototype.runSmartyPants=function(e){this.smartyPantsLastChar="";e=this.educatePants(e);e=e.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,w);return e};Markdown.Extra.prototype.definitionLists=function(e){var n=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm");var r=this;e=o(e);e=e.replace(n,function(e,n,a){var i=t(r.processDefListItems(a));i="<dl>\n"+i+"\n</dl>";return n+r.hashExtraBlock(i)+"\n\n"});return s(e)};Markdown.Extra.prototype.processDefListItems=function(e){var a=this;var i=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm");var u=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");e=o(e);e=e.replace(/\n{2,}(?=\\x03)/,"\n");e=e.replace(i,function(e,n,r){var i=t(r).split("\n");var u="";for(var o=0;o<i.length;o++){var s=i[o];s=c(t(s),a);u+="\n<dt>"+s+"</dt>"}return u+"\n"});e=e.replace(u,function(e,t,i,u){if(t||u.match(/\n{2,}/)){u=Array(i.length+1).join(" ")+u;u=r(u)+"\n\n";u="\n"+l(u,a)+"\n"}else{u=n(u);u=c(r(u),a)}return"\n<dd>"+u+"</dd>\n"});return s(e)};Markdown.Extra.prototype.strikethrough=function(e){return e.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")};Markdown.Extra.prototype.newlines=function(e){return e.replace(/(<(?:br|\/li)>)?\n/g,function(e,t){return t?e:" <br>\n"})}})();(function(){if(typeof Markdown=="undefined")return;function e(e){return window.btoa(encodeURIComponent(escape(e)))}function t(e){return unescape(decodeURIComponent(window.atob(e)))}Markdown.Plugin={};Markdown.Plugin.RemoveMath=function(t){t=t.replace(/\\~D\\{0,1}~D/g,function(e){return"[DDDDDDDD]"});t=t.replace(/\\~D/g,function(e){return"[DDDD]"});t=t.replace(/~D~D((?!~D)[^\0]){0,1000}~D~D(\n{0,1})|~D((?!~D)[^\0]){0,1000}~D/g,function(t){if(t.match(/^~D~D/)){t=t.substr(4);t=t.substr(0,t.length-4);t="$$"+t+"$$"}if(t.match(/^~D/)){t=t.substr(2);t=t.substr(0,t.length-2);t="$"+t+"$"}return"[mathjax"+e(t)+"]"});return t};Markdown.Plugin.ReplaceMath=function(e){e=e.replace(/\[DDDDDDDD\]/g,function(){return"$$"});e=e.replace(/\[DDDD\]/g,function(){return"$"});e=e.replace(/\[mathjax([^\]]+)\]/g,function(e,n,r){return"<span data-id='"+n+"' class='editor-math-element'>"+t(n)+"</span>"});return e};Markdown.Plugin.ProcessAtUser=function(e){e=e.replace(/@[\w\-\u2E80-\u9FFF]{1,50}[ \ \n\r\t\)\(\]\[\{\}\<\> ]{1}|@[\w\-\u2E80-\u9FFF]{1,50}$/g,function(e){var t=e.match(/@([\w\-\u2E80-\u9FFF]{1,50})/);var n=t[1];var r="";if(e.length>n.length+1){r=e[e.length-1]}if(typeof UserInfoPop=="function"||typeof window.UserInfoPop=="function")return"<a onmouseover='UserInfoPop(event)' data-username='"+n+"' href=''>@"+n+"</a>"+r;else return"<a>@"+n+"</a>"+r});return e};Markdown.Plugin.ProcessToc=function(t){if(t.match(/[^\\]{1}\[toc\]/i)==null)return t;var n=[];var r=[];if(typeof window.ProcessTocTempDom=="undefined"){window.ProcessTocTempDom=document.createElement("div")}ProcessTocTempDom=window.ProcessTocTempDom;ProcessTocTempDom.innerHTML=t;var a=ProcessTocTempDom.querySelectorAll("h1,h2,h3,h4,h5,h6,h7");if(!a.length){return t}for(var i=0;i<a.length;i++){var u=a[i];var o=u.tagName;var s=u.innerHTML;var c="anchor_"+e(s+""+i);u.id=c;n.push({tag:o,text:s,anchor:c})}t=ProcessTocTempDom.innerHTML;function l(e){var t=[];var n=[];t.push(e[0]);var r=0;for(var a=1;a<e.length;a++){if(e[a].tag>t[r].tag){n.push(e[a])}else{if(n.length){t.push(l(n));r+=2}else{r+=1}t.push(e[a]);n=[]}}if(n.length!=0)t.push(l(n));return t}var f=l(n);var d=0;function p(e){var t="<ul class='deditor-toc-group'>\n";for(var n=0;n<e.length;n++){if(e[n].length)e[n]=p(e[n]);if(e[n].text){t+="<li class='deditor-toc-item'>"+"<a href='' data-anchor='"+e[n].anchor+"' onclick='if(window.GotoAnchor){GotoAnchor(event);}event.preventDefault();'>"+e[n].text+"</a></li>\n"}else{t+="<li class='deditor-toc-item'>"+e[n]+"</li>\n"}}t+="</ul>\n";return t}f=p(f);f="<div class='container-fluid'><div class='row'><div class='deditor-toc-div col-lg-5 col-md-8 col-sm-10 col-xs-12'><h6>目录</h6>"+f+"</div></div></div>";var h=false;t=t.replace(/\[toc\]/gi,function(e,n){if(h)return e;var r=t.lastIndexOf("<code",n);var a=t.lastIndexOf("</code",n);if(r!=-1&&(a==-1||r>a)){return e}r=t.lastIndexOf("<pre",n);a=t.lastIndexOf("</pre",n);if(r!=-1&&(a==-1||r>a)){return e}h=true;return f});return t};typeof window.localStorage=="undefined"&&~function(){var e=window.localStorage={},t="data-userdata",n=document,r=n.body,a=n.documentElement,i=function(e,n,r,i){a.load(t);r=a.getAttribute(t);i=RegExp("\\b"+e+"\\b,?","i");hasKey=i.test(r)?1:0;r=n?r.replace(i,"").replace(",",""):hasKey?r:r===""?e:r.split(",").concat(e).join(",");a.setAttribute(t,r);a.save(t)};r.addBehavior("#default#userData");a.addBehavior("#default#userData");e.getItem=function(e){r.load(e);return r.getAttribute(e)};e.setItem=function(e,t){r.setAttribute(e,t);r.save(e);i(e)};e.removeItem=function(e){r.removeAttribute(e);r.save(e);i(e,1)};e.clear=function(){a.load(t);var e=a.getAttribute(t).split(","),n=e.length;for(var i=0;i<n;i++){r.removeAttribute(e[i]);r.save(e[i])}a.setAttribute(t,"");a.save(t)}}()})();
